name: Assign to project

on:
  workflow_call:
    input:
      event:
        type: object
        required: true
    secrets:
      github-token:
        required: true

jobs:
  assign_pr_to_project:
    name: Assign pull request to project
    if: ${{ input.event.event_name == 'pull_request' }}
    runs-on: ubuntu-latest
    steps:
    - name: Assign pull request to project
      uses: actions/add-to-project@v0.5.0
      with:
        project-url: https://github.com/orgs/koinos/projects/6
        github-token: ${{ secrets.GITHUB_TOKEN }}

  assign_issue_to_project:
    name: Assign issue to project
    if: ${{ input.event.event_name == 'issue' }}
    runs-on: ubuntu-latest
    steps:
    - name: Assign issue with `bug` or `enhancement` label to project
      uses: actions/add-to-project@v0.5.0
      with:
        project-url: https://github.com/orgs/koinos/projects/6
        github-token: ${{ secrets.GITHUB_TOKEN }}
        labeled: bug, enhancement
        label-operator: OR